import{_ as a,c as i,o as e,ag as l}from"./chunks/framework.DPDPlp3K.js";const c=JSON.parse('{"title":"DKIM 签名设置指南","description":"","frontmatter":{},"headers":[],"relativePath":"guides/dkim-setup.md","filePath":"guides/dkim-setup.md","lastUpdated":1742544939000}'),n={name:"guides/dkim-setup.md"};function t(h,s,p,r,k,d){return e(),i("div",null,s[0]||(s[0]=[l(`<h1 id="dkim-签名设置指南" tabindex="-1">DKIM 签名设置指南 <a class="header-anchor" href="#dkim-签名设置指南" aria-label="Permalink to &quot;DKIM 签名设置指南&quot;">​</a></h1><p>DKIM (DomainKeys Identified Mail) 是一种用于电子邮件身份认证的标准方法，它允许邮件接收方验证邮件确实是由声称的发送域发送并且邮件内容在传输过程中没有被篡改。本指南将帮助您为 Go Mail Server 设置和配置 DKIM 签名。</p><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ul><li><a href="#dkim-签名设置指南">DKIM 签名设置指南</a><ul><li><a href="#目录">目录</a></li><li><a href="#dkim-工作原理">DKIM 工作原理</a></li><li><a href="#设置步骤">设置步骤</a><ul><li><a href="#1-生成-dkim-密钥">1. 生成 DKIM 密钥</a><ul><li><a href="#使用-openssl-生成-rsa-密钥对">使用 OpenSSL 生成 RSA 密钥对</a></li><li><a href="#将公钥转换为-dns-记录格式">将公钥转换为 DNS 记录格式</a></li></ul></li><li><a href="#2-配置-dns-记录">2. 配置 DNS 记录</a></li></ul></li></ul></li></ul><h2 id="dkim-工作原理" tabindex="-1">DKIM 工作原理 <a class="header-anchor" href="#dkim-工作原理" aria-label="Permalink to &quot;DKIM 工作原理&quot;">​</a></h2><p>DKIM 的工作流程如下：</p><ol><li><strong>生成密钥对</strong>：域名所有者生成一对公钥和私钥</li><li><strong>配置 DNS</strong>：公钥被发布到域名的 DNS 记录中</li><li><strong>签名邮件</strong>：使用私钥对外发邮件进行签名</li><li><strong>验证签名</strong>：接收方获取公钥并验证签名的有效性</li></ol><h2 id="设置步骤" tabindex="-1">设置步骤 <a class="header-anchor" href="#设置步骤" aria-label="Permalink to &quot;设置步骤&quot;">​</a></h2><h3 id="_1-生成-dkim-密钥" tabindex="-1">1. 生成 DKIM 密钥 <a class="header-anchor" href="#_1-生成-dkim-密钥" aria-label="Permalink to &quot;1. 生成 DKIM 密钥&quot;">​</a></h3><h4 id="使用-openssl-生成-rsa-密钥对" tabindex="-1">使用 OpenSSL 生成 RSA 密钥对 <a class="header-anchor" href="#使用-openssl-生成-rsa-密钥对" aria-label="Permalink to &quot;使用 OpenSSL 生成 RSA 密钥对&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建密钥目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mailer/keys/example.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成私钥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genrsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mailer/keys/example.com/mail.private</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2048</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从私钥中提取公钥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mailer/keys/example.com/mail.private</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pubout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -outform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PEM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mailer/keys/example.com/mail.public</span></span></code></pre></div><h4 id="将公钥转换为-dns-记录格式" tabindex="-1">将公钥转换为 DNS 记录格式 <a class="header-anchor" href="#将公钥转换为-dns-记录格式" aria-label="Permalink to &quot;将公钥转换为 DNS 记录格式&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从公钥提取用于 DNS 记录的部分（移除头部、尾部和换行符）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mailer/keys/example.com/mail.public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;^-&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\\n&#39;</span></span></code></pre></div><h3 id="_2-配置-dns-记录" tabindex="-1">2. 配置 DNS 记录 <a class="header-anchor" href="#_2-配置-dns-记录" aria-label="Permalink to &quot;2. 配置 DNS 记录&quot;">​</a></h3><p>您需要在您的 DNS 管理面板中添加一条 TXT 记录：</p>`,15)]))}const F=a(n,[["render",t]]);export{c as __pageData,F as default};
